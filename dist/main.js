(()=>{var e={865:()=>{},692:()=>{},180:()=>{},75:()=>{},283:()=>{}},t={};function o(n){var c=t[n];if(void 0!==c)return c.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}(()=>{"use strict";(()=>{const e=document.querySelector("#content"),t=document.createElement("section");t.id="sidebar";const o=document.createElement("div");o.id="sidebar-top-wrapper";const n=document.createElement("h2");n.innerHTML="Projects",o.appendChild(n);const c=document.createElement("button");c.innerHTML="New Project",c.id="new-project",o.appendChild(c);const r=document.createElement("section");r.id="projects-list",t.appendChild(o),t.appendChild(r),e.appendChild(t)})();const e=(e,t)=>{const o=document.querySelector("#projects-list"),n=document.createElement("button");n.dataset.index=t,n.classList.add("project-sidebar"),n.innerHTML=e,o.appendChild(n)},t=(e,t,o)=>{document.querySelector("#project-full")&&e.removeChild(document.querySelector("#project-full"));const n=document.createElement("section");n.id="project-full",n.dataset.index=o;const c=document.createElement("div");c.id="project-top-row";const r=document.createElement("h2");r.innerHTML=t,c.appendChild(r);const d=document.createElement("div");d.id="project-buttons";const i=document.createElement("button");i.innerHTML="New Task",i.id="new-todo",i.setAttribute("title","New task"),d.appendChild(i);const s=document.createElement("button");s.id="edit-project",s.classList.add("edit-button"),s.setAttribute("title","Edit Project"),s.innerHTML="Edit Project",d.appendChild(s);const l=document.createElement("button");l.id="delete-project",l.classList.add("delete-button"),l.setAttribute("title","Delete Project"),l.innerHTML="X",d.appendChild(l),c.appendChild(d),n.appendChild(c);const u=document.createElement("section");u.id="todos-list",n.appendChild(u),e.appendChild(n)},n=(e,t)=>{e.removeChild(t)},c=e=>{e.forEach((e=>{e.setAttribute("disabled","")}))},r=e=>{e.forEach((e=>{e.removeAttribute("disabled")}))};var d=o(180),i=o(283),s=o(865),l=o(692),u=o(75);const a=document.querySelector("#content"),m=document.querySelector("#sidebar");let p=(0,u.getProjects)("projectsList",[],(0,d.Project)("My first project"));function j(e){const t=document.querySelector("#todos-list"),o=p[e];t.innerHTML="",o.todos.forEach(((e,o)=>{(0,l.renderToDo)(t,e.title,e.description,e.dueDate,e.priority,o,e.status)}))}function y(){m.innerHTML="",p.forEach(((t,o)=>{e(t.name,o)}))}m.onclick=o=>{!function(o){if(o.hasAttribute("data-index")){const e=o.dataset.index;t(a,p[e].name,e),j(e)}else if("new-project"===o.id){c(document.querySelectorAll("button")),(0,s.showProjectForm)(a,"Add");const o=document.querySelector("form");o.onsubmit=c=>{c.preventDefault(),n(a,o);const i=(0,d.Project)(o.elements.namedItem("project-title").value);p.push(i),e(i.name,p.indexOf(i)),t(a,i.name,p.indexOf(i)),(0,u.saveProjects)("projectsList",p),r(document.querySelectorAll("button"))},document.querySelector("#cancel-project").onclick=()=>{n(a,o),r(document.querySelectorAll("button"))}}}(o.target)},a.onclick=e=>{!function(e){const o=document.querySelector("#project-full").getAttribute("data-index");if("new-todo"===e.id){c(document.querySelectorAll("button")),(0,l.showToDoForm)(a,"Add");const e=document.querySelector("form");e.onsubmit=t=>{t.preventDefault(),n(a,e);const c=(0,i.toDo)(e.elements.namedItem("todo-title").value,e.elements.namedItem("description").value,e.elements.namedItem("date").value,e.elements.namedItem("priority").value);p[o].todos.push(c),(0,l.renderToDo)(document.querySelector("#todos-list"),c.title,c.description,c.dueDate,c.priority,p[o].todos.length-1,c.status),(0,u.saveProjects)("projectsList",p),r(document.querySelectorAll("button"))},document.querySelector("#cancel-todo").onclick=()=>{n(a,e),r(document.querySelectorAll("button"))}}else if(e.classList.contains("expand-todo"))(0,l.expandToDo)(document.querySelector(`[data-index="${e.getAttribute("data-index")}"]`));else if(e.classList.contains("edit-todo")){const t=e.getAttribute("data-index"),d=document.querySelectorAll("button");c(d),(0,l.showToDoForm)(a,"Edit",p[o].todos[t].title,p[o].todos[t].description,p[o].todos[t].dueDate,p[o].todos[t].priority);const i=document.querySelector("form");i.onsubmit=c=>{c.preventDefault(),n(a,i);const s=p[o].todos[t];s.title=i.elements.namedItem("todo-title").value,s.description=i.elements.namedItem("description").value,s.dueDate=i.elements.namedItem("date").value,s.priority=i.elements.namedItem("priority").value,(0,l.editToDo)(document.querySelector(`[data-index="${e.getAttribute("data-index")}"]`),s.title,s.description,s.dueDate,s.priority),(0,u.saveProjects)("projectsList",p),r(d)},document.querySelector("#cancel-todo").onclick=()=>{n(a,i),r(d)}}else if(e.classList.contains("check-todo")){const t=e.getAttribute("data-index"),n=p[o].todos[t];n.status=(0,i.toggleStatus)(n.status),(0,l.toggleTodoStatusClass)(document.querySelector(`[data-index="${e.getAttribute("data-index")}"]`)),(0,u.saveProjects)("projectsList",p)}else if(e.classList.contains("delete-todo")){const t=e.getAttribute("data-index");(0,d.deleteToDo)(p[o].todos,t),j(o),(0,u.saveProjects)("projectsList",p)}else if("edit-project"===e.id){c(document.querySelectorAll("button")),(0,s.showProjectForm)(a,"Edit",p[o].name);const e=document.querySelector("form");e.onsubmit=t=>{t.preventDefault(),n(a,e),p[o].name=e.elements.namedItem("project-title").value,(0,s.updateProjectName)(document.querySelector(`[data-index="${o}"]`),p[o].name),(0,s.updateProjectName)(document.querySelector("#project-top-row h2"),p[o].name),(0,u.saveProjects)("projectsList",p),r(document.querySelectorAll("button"))},document.querySelector("#cancel-project").onclick=()=>{n(a,e),r(document.querySelectorAll("button"))}}else if("delete-project"===e.id){const e=document.querySelector("#project-full").dataset.index;(0,d.deleteProject)(p,e),y(),p.length>0?(t(a,p[0].name,0),j(0)):a.removeChild(document.querySelector("#project-full")),(0,u.saveProjects)("projectsList",p)}}(e.target)},y(),p.length>0&&(t(a,p[0].name,0),j(0))})()})();